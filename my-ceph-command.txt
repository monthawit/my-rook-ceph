kubectl -n rook-ceph exec -it deploy/rook-ceph-tools -- bash


ceph fs ls
ceph osd pool ls



ceph osd pool delete cephfs.myfs.data cephfs.myfs.data --yes-i-really-really-mean-it
ceph osd pool delete cephfs.myfs.meta cephfs.myfs.meta --yes-i-really-really-mean-it


ceph osd pool delete .nfs .nfs --yes-i-really-really-mean-it




====== enable nfs export UI ========

https://rook.io/docs/rook/latest-release/Storage-Configuration/NFS/nfs/?h=orc#using-the-ceph-dashboard


Enable the Ceph orchestrator (optional)Â¶

ceph mgr module enable rook
ceph mgr module enable nfs
ceph orch set backend rook


======== Create NFS cluster  ============

kubectl -n rook-ceph exec -it deploy/rook-ceph-tools -- bash

ceph nfs cluster ls
ceph nfs cluster create nfs-server-01

ceph nfs cluster ls


========================================



ceph nfs export create cephfs --cluster-id nfs-server-01 --pseudo-path /nfs-server-01 --fsname milkyfs [--readonly] [--path=/nfs-server-01] [--client_addr 10.151.0.0/23 ] [--squash no_root_squash] [--sectype none] [--cmount_path /]


ceph nfs export create cephfs my-nfs /test myfs



kubectl patch cephobjectstore my-store -n rook-ceph -p '{"metadata":{"finalizers":[]}}' --type=merge

kubectl patch cephobjectstore my-store -n rook-ceph -p '{"metadata":{"finalizers":[]}}' --type=merge


kubectl patch cephobjectstore multisite-store -n rook-ceph -p '{"metadata":{"finalizers":[]}}' --type=merge

kubectl patch cephobjectstore multisite-store -n rook-ceph -p '{"metadata":{"finalizers":[]}}' --type=merge
